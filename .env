# Configuration Production Testnet - Stratégie Agressive Sécurisée
NODE_ENV=production
PORT=3001
HTTP_PORT=3001
SQLITE_PATH=./data/bot.db
DEV_TOOLS=true

# Détection Bithumb-only
DETECTION_SOURCES=BITHUMB_WS,NOTICE_POLLER
NOTICE_POLL_INTERVAL_MS=1100
WS_WARMUP_MS=5000
WS_DEBOUNCE_MS=10000

# Trading Hyperliquid Testnet - STRATÉGIE AGRESSIVE
TRADING_ENABLED=true
DRY_RUN=true 
ENABLE_HYPERLIQUID=true
HYPERLIQUID_TESTNET=true
HL_BASE=https://api.hyperliquid-testnet.xyz
HYPERLIQUID_API_KEY=e224408dd64a3050ccc3fd9419dfbb22d98691035bee7b059d84f2c5357b0cdf
HYPERLIQUID_WALLET_ADDRESS=0x56c77757076101F6beB5397C791077548459bef9

# Stratégie Agressive - MINIMISATION DES PERTES
RISK_PCT=0.15                    # 15% du solde par trade (agressif)
LEVERAGE_TARGET=8                 # Levier 8x (agressif mais contrôlé)
COOLDOWN_HOURS=24                 # Cooldown 24h/base
MAX_RISK_PER_TRADE=0.20          # 20% max par trade
STOP_LOSS_PERCENT=8               # Stop-loss 8% (protection)
TAKE_PROFIT_PERCENT=15            # Take-profit 15%

# Circuit Breaker
CIRCUIT_BREAKER_MAX_ERRORS=3      # 3 erreurs → trading OFF
CIRCUIT_BREAKER_COOLDOWN_MS=3600000 # 1h de cooldown

# Exit Strategy +180s
EXIT_DELAY_MS=180000              # 3 minutes
EXIT_STRATEGY=REDUCE_ONLY         # Reduce-only pour éviter les liquidations

# Telegram Notifications Réelles
ENABLE_TELEGRAM=true
TELEGRAM_BOT_TOKEN=8256694560:AAHT6StgKRyXB4t4EkjVwZgdRuOD-Ggj4Bs
TELEGRAM_CHAT_ID=-1002847979767
TELEGRAM_QUEUE_DELAY_MS=1000     # 1 msg/s
TELEGRAM_MAX_RETRIES=3
TELEGRAM_RETRY_BACKOFF_MS=2000

# Performance & Monitoring
ENABLE_VERBOSE_LOGS=true
ENABLE_KOREAN_LOGS=true
PERP_CATALOG_REFRESH_MS=900000   # 15 min
HEALTH_CHECK_INTERVAL_MS=30000   # 30s

# WATERMARK & LOG DEDUP - Fix boucle infinie T0 
MAX_NOTICE_AGE_MIN=180 
LOG_DEDUP_WINDOW_MS=60000 
LOG_DEDUP_MAX_PER_WINDOW=2 
